zephyr_include_directories(.)

zephyr_library_named(common_libraries)
zephyr_library_sources(
  cc1101.cpp
  rgb_led.cpp
  color.cpp
  timer.cpp
  battery.cpp
  bluetooth.cpp
  buzzer.cpp
)

# Depend on the public Zephyr interface
target_link_libraries(common_libraries PRIVATE zephyr_interface)

# That's some magic to build autogenerated headers.
# See https://lists.zephyrproject.org/g/devel/message/5475.
add_dependencies(common_libraries offsets_h)